$.fn.notify = function(settings_overwrite){    settings = {        placement:"top",        default_class: ".notify",        // content_class: ".success-message",        delay:0,        hideDelay: 3000,        content: '',    };    $.extend(settings, settings_overwrite);    obj = $(this);    $(settings.default_class).each(function(){$(this).hide();});    obj.find('.notify__message').html(settings.content);    obj.show().css(settings.placement, -obj.outerHeight());    if(settings.placement == "bottom"){    		console.log('bottom')        setTimeout(function(){obj.animate({bottom:"0"}, 500)},settings.delay);    }    else{    		console.log('top')        setTimeout(function(){obj.animate({top:"0"}, 500)},settings.delay);    }    setTimeout(function(){            obj.fadeTo('slow', 0, function() {               obj.slideUp("slow", function() {                   // obj.remove();                   obj.removeAttr('style');                });            })},settings.hideDelay);    obj.on('click', (function () {       obj.fadeTo('slow', 0, function() {           obj.slideUp("slow", function() {                // $(this).remove();                 obj.removeAttr('style');            });        });    }));};/* Javscript DocumentDev By BWD [andrikanich@gmail.com]console.info();*/$(document).ready(function() {	$('.yandexGoal').on("click", function(){		yaCounter28361761.reachGoal($(this).data('target'));  });	$(document).on("click", '.yacounter-click', function(){		yaCounter28361761.reachGoal($(this).data('yacounter'));  });  if ( $('.js-videoreviews-item-content-toggle').length ) {		var vReviewsSimvols = ( $(window).width() > 1800 ) ? 250 : 100; 			  $('.js-videoreviews-item-content-toggle').each(function() {	  	var $this = $(this),	  			box = $this.closest('.videoreviews-item').find('.videoreviews-item-content__text'),	  			text = box.text(),	  			html;		  		  if ( ( text.length > vReviewsSimvols ) && ( text.substr(vReviewsSimvols).length > 100 ) ) {			  html = text.slice(0, vReviewsSimvols) + '<span class="toggle-hide-text-dots">...</span><span class="toggle-hide-text">' +  text.substr(vReviewsSimvols) + '</span>';			  box.html(html);			  $this.removeClass('visuallyhidden');								$this.on('click touch', function(e) {					e.preventDefault();					box.toggleClass('open');					if (box.hasClass('open')) {						$this.html('Скрыть')						$this.addClass('open');					} else {						$this.html('Показать полностью')						$this.removeClass('open');					};				});		  }	  });  }  if ( $('.js-mainreviewslider-content-toggle').length ) {		var vReviewsSimvols = ( $(window).width() > 1700 ) ? 250 : 100; 			  $('.js-mainreviewslider-content-toggle').each(function() {	  	var $this = $(this),	  			box = $this.closest('.mainreviewslider-slide').find('.mainreviewslider-content__text'),	  			text = box.text(),	  			html;		  		  if ( ( text.length > vReviewsSimvols ) && ( text.substr(vReviewsSimvols).length > 100 ) ) {			  html = text.slice(0, vReviewsSimvols) + '<span class="toggle-hide-text-dots">...</span><span class="toggle-hide-text">' +  text.substr(vReviewsSimvols) + '</span>';			  box.html(html);			  $this.removeClass('visuallyhidden');								$this.on('click touch', function(e) {					e.preventDefault();					box.toggleClass('open');					if (box.hasClass('open')) {						$this.html('Скрыть')						$this.addClass('open');					} else {						$this.html('Показать полностью')						$this.removeClass('open');					};				});		  }	  });  }  setTimeout(function() {    $('.js-styler').styler();  }, 100)		if($("select.changePortfolioBuilder").length){			zhkOptions($("select.changePortfolioBuilder").val());		}				$("body").on("change", "select.changePortfolioBuilder", function(){			zhkOptions($(this).val());		});				function zhkOptions(val){			console.log(val);			$(".zhk_option").hide();			$(".zhk_option_"+val).show();		}				  $('form.form-ajax').on('submit', function(){		var error = false;		var form = $(this);		var formHidden = $('.form-content', form);		var message = $('.form-message', form);		var yacounter = form.data('yacounter');		if(message.length == 0){		  var message = $('.form-message', form.parent());		}		$('.required', form).removeClass('err');		$('.required', form).each(function(){		  if($(this).val() == '') {			error = true;			$(this).addClass('err');		  }		});		if( form.hasClass("calc-report-form") ){      var inputsWrap = $(".calc-report-form .hidden-inputs");      inputsWrap.html('');            $('.calc-report-form__input-summ').val($('.s-calc-result-bottom').html() + ' руб.');      $('.s-calc-count input').each(function() {        if ( $(this).val() != 0) {          inputsWrap.append('<input type="hidden" name="'+ $(this).closest("tr").find("td:nth-child(1)").html() + ' (' + $(this).val() + ')' + '" value="' +  ( ($(this).attr("date-price") * 1) * ($(this).val() * 1) )  + ' руб.">');        }      });    }		if(!error){		  $.ajax({			url: '/ajax/form',			data: form.serializeArray(),			success: function(data){				console.log(!!data.success)			  if(data.success) {			  	if ((yacounter != undefined) && (yaCounter28361761 != undefined)) {            yaCounter28361761.reachGoal(yacounter);          } else {            console.log('yaCounter undefined');          };					$('input:not(:submit)', form).val('');					$(':submit', form).attr('disabled','disabled');					$('textarea', form).val('');					formHidden.hide();					message.css('color', '#323232');					message.html(data.msg);					alertMessage(data.msg, 'success', 'top');					$('.callback-to-employee-input').attr('disabled', 'disabled');					$('.popup,.popup-bg').fadeOut(300);				} else {					alertMessage(data.msg, 'error', 'top');					message.css('color', '#ff0000');					message.html(data.error);			  }			},			type: "POST", dataType: "json"		  });		} else {		  message.css('color', '#ff0000');		  message.html('Заполните обязательные поля');		}		return false;	  });  	var isMobile = {Android: function() {return navigator.userAgent.match(/Android/i);},BlackBerry: function() {return navigator.userAgent.match(/BlackBerry/i);},iOS: function() {return navigator.userAgent.match(/iPhone|iPad|iPod/i);},Opera: function() {return navigator.userAgent.match(/Opera Mini/i);},Windows: function() {return navigator.userAgent.match(/IEMobile/i);},any: function() {return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());}};		if(isMobile.any()){		$('.header-mainmenu-list>li').click(function() {			// $(this).toggleClass('hover');			if($(this).find('.header-submenu').length>0){				$(this).find('.header-submenu').slideToggle(300);				// return false;			}		});	}else{		$('.header-mainmenu-list>li').each(function() {			var $this = $(this);			var setTimeoutMouseOver, setTimeoutMouseLeave;						$this.hover(function() {				if ( setTimeoutMouseLeave ) { clearTimeout(setTimeoutMouseLeave) };				setTimeoutMouseOver = setTimeout(function() {					$this.addClass('hover');	      }, 300);			}, function() {				if ( setTimeoutMouseOver ) { clearTimeout( setTimeoutMouseOver ) };				setTimeoutMouseLeave = setTimeout(function() {					$this.removeClass('hover');		    }, 300);			});		});	}	if($('.scroll').length>0){		$('.scroll').niceScroll({			cursorborder:  "0px solid #fff",			cursorwidth :8,			background:"#ebebeb",			cursorcolor :"#42b8dd",			autohidemode:false,			horizrailenabled:false		});	}	$.each($('.ba'), function(index, val) {		$(this).beforeAfter({			introDelay : 200,			animateIntro : true,			showFullLinks:false		});	});	$(".js-video").click(function(){	  var dataYoutube = $(this).attr('data-youtube');	  $(this).html('<iframe src="https://www.youtube.com/embed/'+ dataYoutube +'?autoplay=1" frameborder="0" allowfullscreen></iframe>')	});	$(".mainscreen__scroll").click(function(){		 $('html, body').animate({ scrollTop: $(this).closest('.mainscreen').next().offset().top}, 300);	});	$('.quantity__btn').click(function(event) {			var n=parseInt($(this).parent().find('.quantity__input').val());		if($(this).hasClass('dwn')){			n=n-1;			if(n<0){n=0;}		}else{			n=n+1;		}			$(this).parent().find('.quantity__input').val(n);			var quantParent = $(this).parent().parent().parent().prev().children();			var quant = $(this).parent().prev().attr("data-quant");			// console.log(quant);			quantityPrice(n, quant, quantParent);		return false;	});	 $('.js-scroll-to-id').on('click', function(e){     var id = $(this).attr('href').substr(1);    if( document.getElementById(id) != null) {      $('html, body').animate({ scrollTop: $($(this).attr('href')).offset().top - 45}, 500, function() {        if ( id == 'add-reviews-bottom' ) {          // $('.videoreviews-add-form input:not(:submit):visible').eq(0).focus();        }      });    } else {      console.log('No find element with this id')    }    e.preventDefault();  });	 $('.js-add-review').on('click', function(e){       $('html, body').animate({ scrollTop: $('.videoreviews-add').offset().top }, 500, function() {      });    e.preventDefault();  });	if ($.fn.fancybox) {		$.fancybox.defaults.hash = false;		if (location.hash != null && location.hash.length > 1 && location.hash[0] === '#') {		  var $popup = $(location.hash);		  if ($popup.length > 0 && $popup.hasClass('popup') && $popup.data('allow-auto-open') != null) {		    $.fancybox.open({		      type: 'inline',		      src: location.hash		    });		  }		}		$("[data-fancybox]").fancybox({			// Options will go here		});		$(document).on('click', '.js-youtube-id-fancybox', function(e) {			e.preventDefault();			var href = 'https://www.youtube.com/watch?v=' + ( ( $(this).data('youtube-id') ) ? $(this).data('youtube-id') : $(this).attr('href') );      $.fancybox.open(      	[{      		src: href,      	}], {	        type: 'iframe',        padding: 0,    	});		});		$('.text a > img').each(function() {	  	var $this = $(this).closest('a');	  	var $src = $this.attr('href');	  	$this.attr('data-fancybox', 'group-fancy');	  	$this.attr('data-type', 'image');	  	$this.attr('data-src', $src);	  });		$(document).on('click', '.mainteam-slide-item-social__link_doc', function(e) {			e.preventDefault();			var $data = $(this).closest('li').find('.mainteam-slide-item-img-data');      if ($data.length === 0) {        return;      }      var images = [];      var titles = [];      $data.find('span').each(function () {        var $li = $(this);        var $obj = {};        $obj['src'] = $li.data('src');        $obj['type'] = 'image';        $obj['opts'] = {        	'caption' : $li.data('title')        };                images.push($obj);      });      if (images.length === 0) {      	console.log('Not find images');        return;      }      $.fancybox.open(images, {        type: 'image',        padding: 0,    	});		});		//ZOOM		if($('.zoom').length>0){			$('.zoom').fancybox({				helpers:{					overlay:{locked: false},					title:{type: 'inside'}				}			});		}	};	if($('.mainadvantages-slider').length>0){		$('.mainadvantages-slider').slick({			//autoplay: true,			dots: false,			accessibility:false,			arrows: true,			slidesToShow:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.mainexamples-tabsnavigator').length>0){		$.each($('.mainexamples-tabsnavigator-item'), function(index, val) {			$(this).attr('tabsindex',index);		});		$('.mainexamples-tabsnavigator').slick({			//autoplay: true,			dots: false,			arrows: true,			accessibility:false,			//infinite: false,			//centerMode: true,			variableWidth:true,			slidesToShow:4,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});		$('.mainexamples-slider').each(function() {			var rows = 2;			if ($(this).find('.mainexamples-slide').length < 5) {				rows = 1;			}			$(this).slick({				//autoplay: true,				dots: false,				arrows: true,				accessibility:false,				// centerMode: true,				slidesToShow:5,				rows: rows,				slidesPerRow:1,				variableWidth:true,				autoplaySpeed: 3000,				nextArrow:'<button type="button" class="slick-next"></button>',				prevArrow:'<button type="button" class="slick-prev"></button>'			});		});	};	if($('.mainteam-slider').length>0){		$('.mainteam-slider').slick({			//autoplay: true,			dots: true,			accessibility:false,			arrows: true,			slidesToShow:3,			slidesToScroll:3,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>',			responsive: [{				breakpoint: 992,				settings: {					slidesToShow: 2,					slidesToScroll:2				}			},{				breakpoint: 600,				settings: {					slidesToShow: 1,					slidesToScroll:1				}			}]		});	}	if($('.mainteam-slider2').length>0){		$('.mainteam-slider2').slick({			//autoplay: true,			dots: true,			accessibility:false,			arrows: true,			slidesToShow:1,			slidesToScroll:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>',			responsive: [{				breakpoint: 992,				settings: {					slidesToShow: 2,					slidesToScroll:2				}			},{				breakpoint: 600,				settings: {					slidesToShow: 1,					slidesToScroll:1				}			}]		});	}	if($('.mainreviewslider').length>0){		$('.mainreviewslider').slick({			//autoplay: true,			dots: true,			arrows: true,			accessibility:false,			slidesToShow:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.mainarticleslider').length>0){		$('.mainarticleslider').slick({			//autoplay: true,			adaptiveHeight: true,			dots: true,			arrows: true,			accessibility:false,			slidesToShow:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.design-work-main-slider').length>0){		$('.design-work-main-slider').slick({			//autoplay: true,			dots: false,			arrows: true,			accessibility:false,			slidesToShow:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.portfolio-baimage-slider').length>0){		$('.portfolio-baimage-slider').slick({			//autoplay: true,			dots: false,			arrows: true,			draggable:false,			swipe:false,			accessibility:false,			slidesToShow:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.replan-sert-slider').length>0){		$('.replan-sert-slider').slick({			//autoplay: true,			dots: false,			arrows: true,			//draggable:false,			//swipe:false,			accessibility:false,			slidesToShow:4,			slidesToScroll:4,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>',			responsive: [{				breakpoint: 992,				settings: {					slidesToShow:3,					slidesToScroll:3				}			},{				breakpoint: 745,				settings: {					slidesToShow: 2,					slidesToScroll:2				}			},{				breakpoint: 485,				settings: {					slidesToShow: 1,					slidesToScroll:1				}			}]		});	}		if($('.k-portfolio-slider').length>0){		var kPortfolioSliderCounter = 0; 		$('.k-portfolio-slider').each( function() {			var $this = $(this);			$this.slick({				//autoplay: true,				dots: false,				arrows: true,				// draggable:false,				// swipe:false,				// accessibility:false,				slidesToShow:1,				slidesToScroll: 1,				// autoplaySpeed: 3000,				nextArrow:'<button type="button" class="slick-next"></button>',				prevArrow:'<button type="button" class="slick-prev"></button>'			});		});		++kPortfolioSliderCounter;		setTimeout(function() {	    $('.k-portfolio-slider__item').each(function() {	    	if ( !$(this).hasClass('slick-cloned') ) {		    	$(this).attr('data-fancybox', 'portfolio-' + kPortfolioSliderCounter );	    	}	    });    }, 100);	};			if(!isMobile.any()){		$(window).load(function() {			if($('.textform-text-body').length>0){				$('.textform-text-body').niceScroll({					cursorborder:  "0px solid #fff",					cursorwidth :4,					background:"#ebebeb",					cursorcolor :"#42b8dd",					autohidemode:false,				});							}		});	}	$('.tab__navitem').click(function(event) {		if(!$(this).hasClass('active')){				$(this).parents('.tabs').find('.tab__navitem').removeClass('active');				$(this).addClass('active');				var ind=$(this).attr('tabsindex');				$(this).parents('.tabs').find('.tab__item').removeClass('active').eq(ind).addClass('active');								if($(this).parents('.tabs').find('.slick-slider').length>0){					$(this).parents('.tabs').find('.slick-slider').slick('setPosition');				}								if($("#googlemap").length){					googlemap();				};				$('.popup').fadeOut();		}	});	if($('.works-slider').length>0){		var rows = 2;		if ($(this).find('.mainexamples-slide').length < 5) {			rows = 1;		}		$('.works-slider').slick({			//autoplay: true,			dots: false,			arrows: true,			accessibility:false,			// centerMode: true,			slidesToShow:5,			rows:rows,			slidesPerRow:1,			variableWidth:true,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.repair-seria-slider').length>0){		$('.repair-seria-slider').slick({			//autoplay: true,			dots: false,			arrows: true,			accessibility:false,			slidesToShow:1,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>'		});	}	if($('.bilder-objects-slider').length>0){		// $('.bilder-objects-slider').slick({		// 	//autoplay: true,		// 	dots: false,		// 	arrows: true,		// 	vertical:true,		// 	verticalSwiping:true,		// 	accessibility:false,		// 	slidesToShow:13,		// 	autoplaySpeed: 3000,		// 	nextArrow:'<button type="button" class="slick-next"></button>',		// 	prevArrow:'<button type="button" class="slick-prev"></button>'		// });		$('.bilder-objects-slide').click(function(event) {			$('.bilder-objects-slider').slick('slickGoTo',$(this).data('slick-index'));			$('.bilder-objects-map__item').attr('class','bilder-objects-map__item pos-'+$(this).find('.bilder-objects__item').data('value'));		});		$('.bilder-objects-slider').on('afterChange',function(event, slick, currentSlide, nextSlide){			currentSlide=currentSlide+1;			var left = 			$('.bilder-objects-map__item').attr('class','bilder-objects-map__item pos-'+currentSlide);		});		$('.bilder-objects__item').hover(function(){			var value = $(this).data('value');			var left = $(this).data('left');			var top = $(this).data('top');			// console.log('top': top + 'px', 'left': left + 'px');			// $('.bilder-objects-map__item').attr('class','bilder-objects-map__item pos-'+value).attr('data-left', left).attr('data-top', top);			$('.bilder-objects-map__item').attr('class','bilder-objects-map__item pos-'+value).css({'top': top + 'px', 'left': left + 'px'});		});	}	if($('.sertific-slider').length>0){		$('.sertific-slider').slick({			//autoplay: true,			dots: true,			arrows: true,			accessibility:false,			slidesToShow:2,			slidesToScroll:2,			autoplaySpeed: 3000,			nextArrow:'<button type="button" class="slick-next"></button>',			prevArrow:'<button type="button" class="slick-prev"></button>',			responsive: [{				breakpoint: 767,				settings: {					slidesToShow: 1,					slidesToScroll:1				}			}]		});	}		if(isMobile.any()){		$('.flymenu__icon').click(function(event) {			$(this).toggleClass('active');			$('.header-mainmenu__icon').toggleClass('active');			$('body').toggleClass('menu');			$('.header-mainmenu-block--mobile').toggleClass('active');			$('.flymenu').reomveClass('active');		});	} else {		$('.flymenu__icon').click(function(event) {			$(this).toggleClass('active');			$('.flymenu').toggleClass('active');		});	};	$('.header-mainmenu__icon').click(function(event) {		$(this).toggleClass('active');		$('body').toggleClass('menu');		$('.header-mainmenu-block--mobile').toggleClass('active');		if(isMobile.any()){			$('.flymenu__icon').toggleClass('active');		}	});	$('.header-mainmenu-search__icon').click(function(event) {		$(this).toggleClass('active');		$(this).closest('.header-mainmenu-search').toggleClass('active');	});	 $(document).on('click touch', 'body', function (event) {      var obj = $(event.target);      // console.log(obj.parent().attr('class'));      if (!obj.closest('.header-mainmenu-search').length && !obj.hasClass('header-mainmenu-search')) {					$('.header-mainmenu-search__icon').removeClass('active');					$('.header-mainmenu-search').removeClass('active');      }    });	$('.popup__link').click(function(event) {		var yacounter = $(this).data('yacounter');		if ((yacounter != undefined) && (yaCounter28361761 != undefined)) {      yaCounter28361761.reachGoal(yacounter);    } 			$('.popup').css({top:$(window).scrollTop()+50});			$('.popup-bg').fadeIn(300);		$('.header-mainmenu__icon').removeClass('active');		$('body').removeClass('menu');		$('.header-mainmenu-block').removeClass('active');		if($(this).hasClass('header-schedule__callback') || $(this).hasClass('contacts-mainrow-item__callback')){			$('.popup-callback').fadeIn(300);		};		if($(this).data('target') == 'popup-callback'){			$('.popup-callback').fadeIn(300);		};		if($(this).data('target') == 'popup-ask'){			$('.popup-ask').fadeIn(300);			if ( $(this).closest('.content-header').length ) {				$('.popup-ask form').attr('data-yacounter', 'voprosh');			}		};		if($(this).data('target') == 'popup-sizer'){			$('.popup-sizer').fadeIn(300);		};		if($(this).data('target') == 'popup-order'){			$('.popup-order').fadeIn(300);		};		if($(this).data('target') == 'popup-portfolio-order'){			$('.popup-portfolio-order').fadeIn(300);		};		if($(this).data('target') == 'popup-subscribe'){			$('.popup-subscribe').fadeIn(300);		};			return false;	});		$('.popup-bg,.popup-close').click(function(event) {		$('.popup,.popup-bg').fadeOut(300);		$('.callback-to-employee-input').attr('disabled', 'disabled')	});	if ( !isMobile.any() ) {		$('.mainteam-slide-item-social-popup__btn').click(function(event) {			var $this = $(this),				  yacounter = $this.data('yacounter');			if ((yacounter != undefined) && (yaCounter28361761 != undefined)) {	      yaCounter28361761.reachGoal(yacounter);	    }			$('.popup').css({top:$(window).scrollTop()+50});			$('.popup-bg').fadeIn(300);			$('.header-mainmenu__icon').removeClass('active');			$('body').removeClass('menu');			$('.header-mainmenu-block').removeClass('active');			$('.callback-to-employee-input').removeAttr('disabled').val($this.closest('.mainteam-slide-item').find('.mainteam-slide-item__name').text());			$('.popup-callback').fadeIn(300);			return false;		});	};			$('.design-tarifs-item__btn').click(function(event) {		event.preventDefault();		var form = $('.popup-order').find('form'),				type = $(this).closest('.design-tarifs-column').find('.design-tarifs-item-top__title a').html();		if ( type != undefined ) {			type = $(this).closest('.design-tarifs-column').find('.design-tarifs-item-replan__title').html();		};		if ( type != undefined ) {			form.append('<input type="hidden" name="Тип ремонта" value="' + type + '">');		};		$('.popup').css({top:$(window).scrollTop()+50});		$('.popup-bg').fadeIn(300);		$('.popup-order').fadeIn(300);	});	$('.design-tarifs-item__textscroll').hover(function() {		$(this).getNiceScroll().resize().show();	}, function() {		$(this).getNiceScroll().resize().hide();	});	$.each($('.imagebg'), function(index, val) {		$(this).css('background-image','url("'+$(this).find('img').attr('src')+'")');	});	$('.spoller').click(function(event) {		$(this).toggleClass('active').next().slideToggle(300, function() {			if ($('.scroll').length ) {				$('.scroll').getNiceScroll().resize();			}				});	});	$('.design-tarifs-item__textscroll').hover(function() {		$(this).getNiceScroll().resize().show();	}, function() {		$(this).getNiceScroll().resize().hide();	});	$('.check').click(function(event) {		var $this = $(this);		var form =	$(this).closest('form');		var inputName =	$this.find('input').attr('name');				if ( $this.hasClass('check--radio') ) {			form.find('.check--radio input[name="' + inputName + '"]').each(function() {				$(this).attr('disabled', 'disabled');				$(this).closest('.check--radio').removeClass('active');			});			$this.find('input').removeAttr('disabled');			$this.addClass('active');					} else if ($this.hasClass('check--custom')) {			$(this).toggleClass('active');			if($(this).hasClass('active')){				$(this).find('input').removeAttr('disabled');			}else{				$(this).find('input').attr('disabled', 'disabled');			}		} else {			$(this).toggleClass('active');			if($(this).hasClass('active')){				$(this).find('input').val(1);			}else{				$(this).find('input').val(0);			}		}		constructorPrice();	});			$('.check--radio.active').each(function() {		var $this = $(this);		var form =	$(this).closest('form');		var inputName =	$this.find('input').attr('name');		form.find('.check--radio input[name="' + inputName + '"]').each(function() {			$(this).attr('disabled', 'disabled');			$(this).closest('.check--radio').removeClass('active');		});		$this.find('input').removeAttr('disabled');		$this.addClass('active');	});	$('.option').click(function(event) {		$(this).parents('.options').find('.option').removeClass('active');		$(this).toggleClass('active');		$(this).parents('.options').children('input').val($(this).data('value'));	});	if($('.select').length>0){		$(".select-options-inside").niceScroll();		$('.select').click(function(event) {			if(!$(this).hasClass('disabled')){				$('.select').not(this).removeClass('active').find('.select-options').slideUp(50);				$(this).toggleClass('active');				$(this).find('.select-options').slideToggle(50,function() {					$(".select-options-inside").getNiceScroll().resize();				});			}		});		$('.select-options__value').click(function() {				$(this).parents('.select').find('.select-title__value').html($(this).html());			if($.trim($(this).data('value'))!=''){				$(this).parents('.select').find('input').val($(this).data('value'));			}else{				$(this).parents('.select').find('input').val($(this).html());			}		});		$(document).on('click touchstart',function(e) {			if (!$(e.target).is(".select *")) {				$('.select').removeClass('active');				$('.select-options').slideUp(50,function() {					$(".select-options-inside").getNiceScroll().resize();				});			};		});	}	$('input.phone').inputmask('+7(999)999-99-99',{		clearIncomplete: false,		showMaskOnHover: false,		placeholder: "+7(___)___-__-__",	});	$('input.phone').focus(function(){		$(this).addClass('focus');		$(this).removeClass('err');	});	function forms(){		$('input,textarea').focus(function(){			if($(this).val() == $(this).attr('data-value')){					$(this).addClass('focus');					$(this).removeClass('err');				if($(this).attr('data-type')=='pass'){					$(this).attr('type','password');				};				$(this).val('');			};		});		$('input[data-value], textarea[data-value]').each(function() {			if (this.value == '' || this.value == $(this).attr('data-value')) {				this.value = $(this).attr('data-value');			}			$(this).click(function() {				if (this.value == $(this).attr('data-value')) {					if($(this).attr('data-type')=='pass'){						$(this).attr('type','password');					};					this.value = '';				};			});			$(this).blur(function() {				if (this.value == '') {					this.value = $(this).attr('data-value');						$(this).removeClass('focus');					if($(this).attr('data-type')=='pass'){						$(this).attr('type','text');					};				};			});		});	}	forms();	//UP	$(window).scroll(function() {			var w=$(window).width();		if($(window).scrollTop()>50){			$('#up').fadeIn(300);		}else{			$('#up').fadeOut(300);		}	});	$('#up').click(function(event) {		$('body,html').animate({scrollTop:0},300);	});	$('form button[type=submit]').click(function(){		var form=$(this).parents('form');		return validateForm(form);	});	$('.range-control').each(function() {    var $this = $(this);    var min = +$this.attr('data-min');    var max = +$this.attr('data-max');    var step = +$this.attr('data-step') || 1;    range_slider($this, min, max, step);  });	$(".js-selectmenu").each(function() {		var $this = $(this);		$this.selectmenu();	});	function googlemap(){		var latlng = new google.maps.LatLng(55.5764671025472,37.47836116577404);		// var latlng2 = new google.maps.LatLng(53.819055,27.5503694);		var options = {			zoom: 13,			scrollwheel: false,			panControl:false,			mapTypeControl:false,			center: latlng,			mapTypeId: google.maps.MapTypeId.ROADMAP		}; 		var map = new google.maps.Map(document.getElementById('googlemap'), options);		var image = '/img/icons/map-icon.png';		var image2 = '/img/icons/map-icon.png';		var marker1 = new google.maps.Marker({			position: latlng,			map: map,			icon: image		});		// var marker2 = new google.maps.Marker({		// 	position: latlng2,		// 	map: map,		// 	icon: image2		// });		/*		marker1.addListener('click', function(e) {			console.log(e.pageX);		});		*/		$('#googlemap').click(function(e) {				var lf=e.pageX+50;				var tp=e.pageY-$('.popup-mapitem').outerHeight()/2;			if($(window).outerWidth()<1000){				lf=10;			}			$('.popup-mapitem').css({				left: lf,				top: tp			}).fadeIn();		});	}	function yandexmap(){			var myMap;		ymaps.ready(function () {			myMap = new ymaps.Map("yandexmap", {				center: [55.5764671025472,37.47836116577404],				zoom: 13,				controls: ["zoomControl"]			});			myMap.behaviors.disable('scrollZoom');			var myPlacemark = new ymaps.Placemark([55.5764671025472,37.47836116577404],{},{					iconLayout: 'default#image',					iconImageHref: '/img/icons/map-icon.png',					iconImageSize: [55, 76],					iconImageOffset: [-27.5, -38],					// balloonContent: 'Строительная компания "Новая Москва"'				});			myPlacemark.events.add('click', function (e) {					var lf=e.get('domEvent').get('pageX')+50;					var tp=e.get('domEvent').get('pageY')-$('.popup-mapitem').outerHeight()/2;				if($(window).outerWidth()<1000){					lf=10;				}				$('.popup-mapitem').css({					left: lf,					top: tp				}).fadeIn();			});			// var myPlacemark2 = new ymaps.Placemark([53.81,27.55],{},{			// 		iconLayout: 'default#image',			// 		iconImageHref: 'img/icons/map-icon.png',			// 		iconImageSize: [55, 76],			// 		iconImageOffset: [-27.5, -38]			// });			// myPlacemark2.events.add('click', function (e) {			// 		var lf=e.get('domEvent').get('pageX')+50;			// 		var tp=e.get('domEvent').get('pageY')-$('.popup-mapitem').outerHeight()/2;			// 	if($(window).outerWidth()<1000){			// 		lf=10;			// 	}			// 	$('.popup-mapitem').css({			// 		left: lf,			// 		top: tp			// 	}).fadeIn();			// });			myMap.geoObjects.add(myPlacemark);			// myMap.geoObjects.add(myPlacemark2);		});	}	if($("#googlemap").length){		googlemap();	}	if($("#yandexmap").length){		yandexmap();	};	$('.mainadvantages-slide').matchHeight({ property: 'min-height' });	$('.mainreviewslider-slide').matchHeight({ property: 'min-height' });		$('.mainarticleslider-slide').matchHeight({ property: 'min-height' });	$('.design-tarifs-item_auto').matchHeight({ property: 'min-height' });	$(".vacancy-item__header").click(function(){		var $this = $(this);		var cnt = $this.parent().find(".vacancy-item__content");    cnt.slideToggle(200, function() {    	if ( cnt.is(':visible') ) {		    $this.addClass("vacancy-item__header--active");    	} else {		    $this.removeClass("vacancy-item__header--active");    	}		});  });	$('.calc-send-trigger').on('click', function(){		var resultPrice = 0;        if($('.check--radio.active .js-c-repair-type').val() == 'Косметический'){      resultPrice = resultPrice+2500;      if($('.check--radio.active .js-c-ceiling-type').val() == 'Штукатурка'){        resultPrice = resultPrice+500;      }    };    if($('.check--radio.active .js-c-repair-type').val() == 'Капитальный'){      resultPrice = resultPrice+5500;      if($('.check--radio.active .js-c-ceiling-type').val() == 'Штукатурка'){        resultPrice = resultPrice+250;      }      if($('.check--radio.active .js-c-ceiling-type').val() == 'Гипсокартон'){        resultPrice = resultPrice+500;      }      if($('.check--radio.active .js-c-wall-type').val() == 'Покраска'){        resultPrice = resultPrice+500;      }      if($('.check--radio.active .js-c-wall-type').val() == 'Обои'){        resultPrice = resultPrice+250;      }      if($('.check--radio.active .js-c-floor-type').val() == 'Керамогранит'){        resultPrice = resultPrice+250;      }    };    if($('.check--radio.active .js-c-repair-type').val() == 'Премиум'){      resultPrice = resultPrice+7500;      if($('.check--radio.active .js-c-ceiling-type').val() == 'Гипсокартон'){        resultPrice = resultPrice+500;      }      if($('.check--radio.active .js-c-wall-type').val() == 'Покраска'){        resultPrice = resultPrice+250;      }      if($('.check--radio.active .js-c-wall-type').val() == 'Венецианская штукатурка'){        resultPrice = resultPrice+500;      }      if($('.check--radio.active .js-c-floor-type').val() == 'Паркетная доска'){        resultPrice = resultPrice+250;      }      if($('.check--radio.active .js-c-floor-type').val() == 'Пробка'){        resultPrice = resultPrice+500;      }    };    resultPrice = resultPrice*$('.js-c-area').val();    $('.js-c-resultPrice').val(resultPrice);		$(this).parent().slideToggle();		$('.calc-send').slideToggle(300, function() {			$('.calc-send').find('input:visible:first').focus();		});	});	function getCookie(c_name) {		if (document.cookie.length>0) {			c_start=document.cookie.indexOf(c_name + "=");						if (c_start!=-1) {				return true;			}		}		return false;	}	var showIt = getCookie('show');	if ( (!showIt) && (!isMobile.any()) ) {		console.log('first');		$('.flymenu__icon').addClass('active');		$('.flymenu').addClass('active');	  document.cookie='show=true; path=/; expires=Mon, 01-Jan-2020 00:00:00 GMT';	}	var headerMainmenuFloating = $('.header-mainmenu--floating');	var headerMainmenuFloatingTrigger = $('header').height();  var top = $(document).scrollTop();	if (top < headerMainmenuFloatingTrigger) {    // $('body').removeClass('body-fp-active');    headerMainmenuFloating.removeClass('header-mainmenu--fixed');  } else {    // $('body').addClass('body-fp-active');    headerMainmenuFloating.addClass('header-mainmenu--fixed');  };  $(window).scroll(function() {    top = $(document).scrollTop();	        if (top < headerMainmenuFloatingTrigger) {      // $('body').removeClass('body-fp-active');      headerMainmenuFloating.removeClass('header-mainmenu--fixed');    } else {      // $('body').addClass('body-fp-active');      headerMainmenuFloating.addClass('header-mainmenu--fixed');    };  });	oldScripts();	calcPrice();});function alertMessage(content, type, placement){	var type = type ? type : 'def',			placement = placement ? placement : 'top',			hideDelay = hideDelay ? hideDelay : 4000,			id = '#notify_warning';	switch (type) {	  case 'success':	    id = '#notify_success';	    break;	  case 'error':	    id = '#notify_error';	    break;	  case 'warning':	    id = '#notify_warning';	    break;	  default:	    id = '#notify_warning'	}	// 	console.log(	// 'type - ' + type +	// '        placement - ' + placement +	// '        hideDelay - ' + hideDelay +	// '        id - ' + id 	// 		)	if ( ( $(id).length ) && ( content ) )  {	  $(id).notify({	    delay: 200,	    hideDelay: hideDelay,	    content: content,	    placement: placement,	  });	} else {		console.log('No find element with this id OR no content');	}}function validateForm(form) {	var er=0;	var form = form;	$.each(form.find('.req'), function(index, val) {		if($(this).attr('name')=='email' || $(this).hasClass('email')){			if(!(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test($(this).val()))){				er++;				$(this).addClass('err');			}else{				$(this).removeClass('err');			}		}else{			if($(this).val()=='' || $(this).val()==$(this).attr('data-value')){				er++;				if($(this).parents('.select').length>0){					$(this).parents('.select').addClass('err');				}else{					$(this).addClass('err');				}			}else{				if($(this).parents('.select').length>0){					$(this).parents('.select').removeClass('err');				}else{					$(this).removeClass('err');				}							}		}	});	if(form.find('.pass').eq(0).val()!=form.find('.pass').eq(1).val()){		er++;		form.find('.pass').addClass('err');	}else{		form.find('.pass').removeClass('err');	}	if(er==0){			}else{		alertMessage('Заполните обязательные поля', 'error', 'top');		// alertify.error('Заполните обязательные поля');		// form.find('.req:first').focus();		return false;	};};function oldScripts() {	$('a').each(function() {    var ts = $(this);    if ($(this).attr('data-key'))    {      ts.attr('href', Base64.decode($(this).attr('data-key')));      $(this).attr('data-key', '')    }  });};function range_slider($group, min, max, step) {  // swap min and max if needed  if (min > max) {    var t = min;    min = max;    max = t;  }  // automatically determine step if not specified  if (step == undefined) {    step = Math.round((max - min) / 100);  } else if (step > (max - min) / 20) {    step = Math.round((max - min) / 20);  }  // find input controls  var $input_from = $group.find('.range-control__input--from');  var $input_to = $group.find('.range-control__input--to');  // find output elements  var $output_from = $group.find('.range-control__text--from');  var $output_to = $group.find('.range-control__text--to');  var $output_lim = $('<div class="range-control__lim"></div>').appendTo($group);  function format_number(num) {    num = Math.round(num);    return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");  }  var $from_handle, $to_handle;  // updates output elements with current values  function update_output(cur_from, cur_to) {    if ($output_from.length == 0 || $output_to.length == 0) {      return;    }    $output_from.html($output_from.data('template').replace('$', format_number(cur_from)));    $output_to.html($output_to.data('template').replace('$', format_number(cur_to)));    if ($from_handle == undefined) {      $from_handle = $group.find('.ui-slider-handle').eq(0);      $to_handle = $group.find('.ui-slider-handle').eq(1);    }    // find distance between first and second handles    var handles_distance = $to_handle.offset().left - ($from_handle.offset().left + $from_handle.width());    var middle_point = $from_handle.position().left + $from_handle.width() + handles_distance / 2;    // set limiter to position first label    $output_lim.css({      left: 0,      right: 'auto',      width: middle_point + 'px'    });    if ($output_lim.width() < $output_from.outerWidth()) {      $output_from.css({        left: $output_lim.position().left + 'px'      });      $output_to.css({        left: $output_lim.position().left + $output_from.outerWidth() + 'px'      });      return;    } else {      $output_from.position({        my: 'center top',        at: 'center bottom+8',        of: $from_handle,        within: $output_lim,        collision: 'fit'      });    }    // now position second label    $output_lim.css({      left: middle_point + 'px',      right: 0,      width: 'auto'    });    if ($output_lim.width() < $output_to.outerWidth()) {      var to_point = $output_lim.position().left + $output_lim.width() - $output_to.outerWidth();      $output_to.css({        left: to_point + 'px'      });      $output_from.css({        left: (to_point - $output_from.outerWidth()) + 'px'      });      return;    } else {      $output_to.position({        my: 'center top',        at: 'center bottom+8',        of: $to_handle,        within: $output_lim,        collision: 'fit'      });    }  }  // get current 'from' value from input respecting min and max values  function current_input_from() {    var value = +$input_from.val() || min;    value = value < min ? min : value;    return value;  }  // get current 'to' value from input respecting min and max values  function current_input_to() {    var value = +$input_to.val() || max;    value = value > max ? max : value;    return value;  }  // do not allow hmtl5 inputs to reverse current range (do not allow 'to' became less then 'from',  // and vise versa), this should be called each time range changes  function update_inputs() {    $input_from.attr('max', current_input_to());    $input_to.attr('min', current_input_from());  }  // set slider position from input values  function update_slider() {    $slider.slider('values', 0, current_input_from());    $slider.slider('values', 1, current_input_to());  }  // initialize jquery-ui slider  var $slider = $group.find('.range-control__slider');  $slider.slider({    range: true,    min: min,    max: max,    values: [current_input_from(), current_input_to()],    step: step,    slide: function(event, ui) {      // when handles was moved, update inputs      $input_from.val('' + ui.values[0]);      $input_to.val('' + ui.values[1]);      update_output(ui.values[0], ui.values[1]);      update_inputs();    }  });  update_inputs();  update_output(current_input_from(), current_input_to());  // move slider as reacton on changing inputs  $input_from.change(function() {    var current_value = current_input_from();    $slider.slider('values', 0, current_value);    update_inputs();  });  $input_to.change(function() {    var current_value = current_input_to();    $slider.slider('values', 1, current_value);    update_inputs();  });}// plugin Animatenumber (function(d){var q=function(b){return b.split("").reverse().join("")},m={numberStep:function(b,a){var e=Math.floor(b);d(a.elem).text(e)}},h=function(b){var a=b.elem;a.nodeType&&a.parentNode&&(a=a._animateNumberSetter,a||(a=m.numberStep),a(b.now,b))};d.Tween&&d.Tween.propHooks?d.Tween.propHooks.number={set:h}:d.fx.step.number=h;d.animateNumber={numberStepFactories:{append:function(b){return function(a,e){var g=Math.floor(a);d(e.elem).prop("number",a).text(g+b)}},separator:function(b,a,e){b=b||" "; a=a||3;e=e||"";return function(g,k){var c=Math.floor(g).toString(),t=d(k.elem);if(c.length>a){for(var f=c,l=a,m=f.split("").reverse(),c=[],n,r,p,s=0,h=Math.ceil(f.length/l);s<h;s++){n="";for(p=0;p<l;p++){r=s*l+p;if(r===f.length)break;n+=m[r]}c.push(n)}f=c.length-1;l=q(c[f]);c[f]=q(parseInt(l,10).toString());c=c.join(b);c=q(c)}t.prop("number",g).text(c+e)}}}};d.fn.animateNumber=function(){for(var b=arguments[0],a=d.extend({},m,b),e=d(this),g=[a],k=1,c=arguments.length;k<c;k++)g.push(arguments[k]); if(b.numberStep){var h=this.each(function(){this._animateNumberSetter=b.numberStep}),f=a.complete;a.complete=function(){h.each(function(){delete this._animateNumberSetter});f&&f.apply(this,arguments)}}return e.animate.apply(e,g)}})(jQuery); function calcPrice() {			var timeout;									// $this.hover(function() {			// 	if ( setTimeoutMouseLeave ) { clearTimeout(setTimeoutMouseLeave) };			// }, function() {			// 	if ( setTimeoutMouseOver ) { clearTimeout( setTimeoutMouseOver ) };			// 	setTimeoutMouseLeave = setTimeout(function() {			// 		$this.removeClass('hover');		 //    }, 300);			// });    // $('.s-calc-count input').each(function(){     //   $(this).parents("tr").find(".price").text( $(this).attr("date-price") );     // });     // This is just a sample script. Paste your real code (javascript or HTML) here.    $('.s-calc-count__minus, .s-calc-count__plus').click(function(e) {  		var $this = $(this);    	calck($this);      e.preventDefault();    });    $('.s-calc-count input').keypress(function(e) {  		var $this = $(this);    	calck($this);		});    function calck(input, keypress) {        var count = input.parents("tr").find(".s-calc-count input").val(),            price = input.parents("tr").find(".s-calc-count input").attr("date-price"),            newcount = "",            summ = "",            all_summ = 0;        if ( !keypress ) {	        if (input.hasClass("s-calc-count__minus")) {	            newcount = (count * 1) - 1;	            if (count == 0) {	                newcount = 0;	            }	        } else {	            newcount = (count * 1) + 1;	        };        } else {	        newcount = count;      	};				if ( timeout ) { clearTimeout(timeout) };				timeout = setTimeout(function() {					// calck($this);	        all();				}, 200);				        input.parents("tr").find(".s-calc-count input").val(newcount);        // summ = (newcount * 1) * (price * 1);        // input.parents("tr").find(".s-calc-col-sum").animateNumber({        //     number: summ        // });    };    function all() {        var s = {},            summ = 0;        $('.s-calc-count input').each(function(e) {            s[e] = (($(this).attr("date-price") * 1) * ($(this).val() * 1));            if (isNaN($(this).attr("date-price") * 1)) {	            console.log($(this).attr("date-price"))                // console.log(s[e] + '  ' + $(this).closest('tr').find('td:nth(1)').html());            }        });        for (i in s) {            // console.log((summ * 1) + (s[i] * 1))            summ = (summ * 1) + (s[i] * 1);        };        if (summ > 0) {            $(".s-calc-result > span").animateNumber({                number: summ            });            $('.s-calc-result-bottom').html(summ);            $(".s-calc-result").slideDown();        } else {            $(".s-calc-result").slideUp();        };    };}function debounce(func, wait, immediate) {  var timeout;  return function() {    var context = this, args = arguments;    var later = function() {      timeout = null;      if (!immediate) func.apply(context, args);    };    var callNow = immediate && !timeout;    clearTimeout(timeout);    timeout = setTimeout(later, wait);    if (callNow) func.apply(context, args);  };};